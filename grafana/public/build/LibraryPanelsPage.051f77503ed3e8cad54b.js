"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[7878],{96803:(e,n,a)=>{a.r(n),a.d(n,{LibraryPanelsPage:()=>t,default:()=>d});var s=a(68404),i=a(37417),l=a(47782),o=a(65768),r=a(45916);const t=()=>{const[e,n]=(0,s.useState)(void 0);return(0,r.jsx)(i.T,{navId:"dashboards/library-panels",children:(0,r.jsxs)(i.T.Contents,{children:[(0,r.jsx)(l.N,{onClick:n,showSecondaryActions:!0,showSort:!0,showPanelFilter:!0,showFolderFilter:!0}),e?(0,r.jsx)(o.b,{onDismiss:()=>n(void 0),libraryPanel:e}):null]})})},d=t},65768:(e,n,a)=>{a.d(n,{b:()=>w});var s,i=a(52423),l=a(99151),o=a.n(l),r=a(68404),t=a(274),d=a(80795),c=a(16755),u=a(78941),h=a(70917),b=a(8006),p=a(98865),f=a(45916);function w(e){let{libraryPanel:n,onDismiss:a}=e;const i=(0,c.wW)(v),[l,w]=(0,r.useState)(!1),[x,j]=(0,r.useState)(0),[C,g]=(0,r.useState)(void 0);(0,r.useEffect)((()=>{(async()=>{const e=await(0,p.Ef)(n.uid);j(e.length)})()}),[n.uid]);const k=(0,r.useCallback)((e=>async function(e,n,a){a(!0);const s=(await(0,p.E8)(e)).filter((e=>e.title.toLowerCase().includes(n.toLowerCase()))).map((e=>({label:e.title,value:e})));return a(!1),s}(n.uid,e,w)),[n.uid]),y=(0,r.useMemo)((()=>o()(k,300,{leading:!0})),[k]);return(0,f.jsxs)(u.u,{title:"View panel in dashboard",onDismiss:a,onClickBackdrop:a,isOpen:!0,children:[(0,f.jsxs)("div",{className:i.container,children:[0===x?s||(s=(0,f.jsx)("span",{children:"Panel is not linked to a dashboard. Add the panel to a dashboard and retry."})):null,x>0?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("p",{children:["This panel is being used in"," ",(0,f.jsxs)("strong",{children:[x," ",x>1?"dashboards":"dashboard"]}),".Please choose which dashboard to view the panel in:"]}),(0,f.jsx)(h.qb,{isClearable:!0,isLoading:l,defaultOptions:!0,loadOptions:y,onChange:g,placeholder:"Start typing to search for dashboard",noOptionsMessage:"No dashboards found"})]}):null]}),(0,f.jsxs)(u.u.ButtonRow,{children:[(0,f.jsx)(b.zx,{variant:"secondary",onClick:a,fill:"outline",children:"Cancel"}),(0,f.jsx)(b.zx,{onClick:e=>{var n;e.preventDefault(),d.E1.push(t.Cj.renderUrl(`/d/${null==C||null===(n=C.value)||void 0===n?void 0:n.uid}`,{}))},disabled:!Boolean(C),children:C?`View panel in ${null==C?void 0:C.label}...`:"View panel in dashboard..."})]})]})}function v(e){return{container:i.css``}}}}]);
//# sourceMappingURL=LibraryPanelsPage.051f77503ed3e8cad54b.js.map