{"version":3,"file":"DashboardImport.a3c4a96b3038f522d6b2.js","mappings":"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","sources":["webpack://grafana/./public/app/features/library-panels/components/DeleteLibraryPanelModal/reducer.ts","webpack://grafana/./public/app/features/library-panels/components/DeleteLibraryPanelModal/DeleteLibraryPanelModal.tsx","webpack://grafana/./public/app/features/library-panels/components/DeleteLibraryPanelModal/actions.ts","webpack://grafana/./public/app/features/library-panels/components/LibraryPanelCard/LibraryPanelCard.tsx","webpack://grafana/./public/app/features/library-panels/components/LibraryPanelsView/actions.ts","webpack://grafana/./public/app/features/library-panels/components/LibraryPanelsView/reducer.ts","webpack://grafana/./public/app/features/library-panels/styles.ts","webpack://grafana/./public/app/features/manage-dashboards/utils/validation.ts","webpack://grafana/./public/app/features/manage-dashboards/components/ImportDashboardLibraryPanelsList.tsx","webpack://grafana/./public/app/features/manage-dashboards/components/ImportDashboardForm.tsx","webpack://grafana/./public/app/features/manage-dashboards/components/ImportDashboardOverview.tsx","webpack://grafana/./public/app/features/manage-dashboards/DashboardImportPage.tsx","webpack://grafana/./public/app/features/panel/components/VizTypePicker/PanelTypeCard.tsx","webpack://grafana/./public/app/features/plugins/components/PluginStateInfo.tsx"],"sourcesContent":["import { createAction } from '@reduxjs/toolkit';\nimport { AnyAction } from 'redux';\n\nimport { LoadingState } from '@grafana/data';\nimport { DashboardSearchItem } from 'app/features/search/types';\n\nexport interface DeleteLibraryPanelModalState {\n  loadingState: LoadingState;\n  dashboardTitles: string[];\n}\n\nexport const initialDeleteLibraryPanelModalState: DeleteLibraryPanelModalState = {\n  loadingState: LoadingState.Loading,\n  dashboardTitles: [],\n};\n\nexport const searchCompleted = createAction<{ dashboards: DashboardSearchItem[] }>(\n  'libraryPanels/delete/searchCompleted'\n);\n\nexport const deleteLibraryPanelModalReducer = (\n  state: DeleteLibraryPanelModalState = initialDeleteLibraryPanelModalState,\n  action: AnyAction\n): DeleteLibraryPanelModalState => {\n  if (searchCompleted.match(action)) {\n    return {\n      ...state,\n      dashboardTitles: action.payload.dashboards.map((d) => d.title),\n      loadingState: LoadingState.Done,\n    };\n  }\n\n  return state;\n};\n","import React, { FC, useEffect, useMemo, useReducer } from 'react';\n\nimport { LoadingState } from '@grafana/data';\nimport { Button, Modal, useStyles2 } from '@grafana/ui';\n\nimport { getModalStyles } from '../../styles';\nimport { LibraryElementDTO } from '../../types';\nimport { asyncDispatcher } from '../LibraryPanelsView/actions';\n\nimport { getConnectedDashboards } from './actions';\nimport { deleteLibraryPanelModalReducer, initialDeleteLibraryPanelModalState } from './reducer';\n\ninterface Props {\n  libraryPanel: LibraryElementDTO;\n  onConfirm: () => void;\n  onDismiss: () => void;\n}\n\nexport const DeleteLibraryPanelModal: FC<Props> = ({ libraryPanel, onDismiss, onConfirm }) => {\n  const styles = useStyles2(getModalStyles);\n  const [{ dashboardTitles, loadingState }, dispatch] = useReducer(\n    deleteLibraryPanelModalReducer,\n    initialDeleteLibraryPanelModalState\n  );\n  const asyncDispatch = useMemo(() => asyncDispatcher(dispatch), [dispatch]);\n  useEffect(() => {\n    asyncDispatch(getConnectedDashboards(libraryPanel));\n  }, [asyncDispatch, libraryPanel]);\n  const connected = Boolean(dashboardTitles.length);\n  const done = loadingState === LoadingState.Done;\n\n  return (\n    <Modal className={styles.modal} title=\"Delete library panel\" icon=\"trash-alt\" onDismiss={onDismiss} isOpen={true}>\n      {!done ? <LoadingIndicator /> : null}\n      {done ? (\n        <div>\n          {connected ? <HasConnectedDashboards dashboardTitles={dashboardTitles} /> : null}\n          {!connected ? <Confirm /> : null}\n\n          <Modal.ButtonRow>\n            <Button variant=\"secondary\" onClick={onDismiss} fill=\"outline\">\n              Cancel\n            </Button>\n            <Button variant=\"destructive\" onClick={onConfirm} disabled={connected}>\n              Delete\n            </Button>\n          </Modal.ButtonRow>\n        </div>\n      ) : null}\n    </Modal>\n  );\n};\n\nconst LoadingIndicator = () => <span>Loading library panel...</span>;\n\nconst Confirm = () => {\n  const styles = useStyles2(getModalStyles);\n\n  return <div className={styles.modalText}>Do you want to delete this panel?</div>;\n};\n\nconst HasConnectedDashboards: FC<{ dashboardTitles: string[] }> = ({ dashboardTitles }) => {\n  const styles = useStyles2(getModalStyles);\n  const suffix = dashboardTitles.length === 1 ? 'dashboard.' : 'dashboards.';\n  const message = `${dashboardTitles.length} ${suffix}`;\n  if (dashboardTitles.length === 0) {\n    return null;\n  }\n\n  return (\n    <div>\n      <p className={styles.textInfo}>\n        {'This library panel can not be deleted because it is connected to '}\n        <strong>{message}</strong>\n        {' Remove the library panel from the dashboards listed below and retry.'}\n      </p>\n      <table className={styles.myTable}>\n        <thead>\n          <tr>\n            <th>Dashboard name</th>\n          </tr>\n        </thead>\n        <tbody>\n          {dashboardTitles.map((title, i) => (\n            <tr key={`dash-title-${i}`}>\n              <td>{title}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n","import { getConnectedDashboards as apiGetConnectedDashboards } from '../../state/api';\nimport { DispatchResult, LibraryElementDTO } from '../../types';\n\nimport { searchCompleted } from './reducer';\n\nexport function getConnectedDashboards(libraryPanel: LibraryElementDTO): DispatchResult {\n  return async function (dispatch) {\n    const dashboards = await apiGetConnectedDashboards(libraryPanel.uid);\n    dispatch(searchCompleted({ dashboards }));\n  };\n}\n","import { css } from '@emotion/css';\nimport React, { ReactElement, useState } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { config } from '@grafana/runtime';\nimport { Icon, Link, useStyles2 } from '@grafana/ui';\nimport { getPanelPluginNotFound } from 'app/features/panel/components/PanelPluginError';\nimport { PanelTypeCard } from 'app/features/panel/components/VizTypePicker/PanelTypeCard';\n\nimport { LibraryElementDTO } from '../../types';\nimport { DeleteLibraryPanelModal } from '../DeleteLibraryPanelModal/DeleteLibraryPanelModal';\n\nexport interface LibraryPanelCardProps {\n  libraryPanel: LibraryElementDTO;\n  onClick: (panel: LibraryElementDTO) => void;\n  onDelete?: (panel: LibraryElementDTO) => void;\n  showSecondaryActions?: boolean;\n}\n\nexport const LibraryPanelCard: React.FC<LibraryPanelCardProps & { children?: JSX.Element | JSX.Element[] }> = ({\n  libraryPanel,\n  onClick,\n  onDelete,\n  showSecondaryActions,\n}) => {\n  const [showDeletionModal, setShowDeletionModal] = useState(false);\n\n  const onDeletePanel = () => {\n    onDelete?.(libraryPanel);\n    setShowDeletionModal(false);\n  };\n\n  const panelPlugin = config.panels[libraryPanel.model.type] ?? getPanelPluginNotFound(libraryPanel.model.type).meta;\n\n  return (\n    <>\n      <PanelTypeCard\n        isCurrent={false}\n        title={libraryPanel.name}\n        description={libraryPanel.description}\n        plugin={panelPlugin}\n        onClick={() => onClick?.(libraryPanel)}\n        onDelete={showSecondaryActions ? () => setShowDeletionModal(true) : undefined}\n      >\n        <FolderLink libraryPanel={libraryPanel} />\n      </PanelTypeCard>\n      {showDeletionModal && (\n        <DeleteLibraryPanelModal\n          libraryPanel={libraryPanel}\n          onConfirm={onDeletePanel}\n          onDismiss={() => setShowDeletionModal(false)}\n        />\n      )}\n    </>\n  );\n};\n\ninterface FolderLinkProps {\n  libraryPanel: LibraryElementDTO;\n}\n\nfunction FolderLink({ libraryPanel }: FolderLinkProps): ReactElement | null {\n  const styles = useStyles2(getStyles);\n\n  if (!libraryPanel.meta.folderUid && !libraryPanel.meta.folderName) {\n    return null;\n  }\n\n  if (!libraryPanel.meta.folderUid) {\n    return (\n      <span className={styles.metaContainer}>\n        <Icon name={'folder'} size=\"sm\" />\n        <span>{libraryPanel.meta.folderName}</span>\n      </span>\n    );\n  }\n\n  return (\n    <span className={styles.metaContainer}>\n      <Link href={`/dashboards/f/${libraryPanel.meta.folderUid}`}>\n        <Icon name={'folder-upload'} size=\"sm\" />\n        <span>{libraryPanel.meta.folderName}</span>\n      </Link>\n    </span>\n  );\n}\n\nfunction getStyles(theme: GrafanaTheme2) {\n  return {\n    metaContainer: css`\n      display: flex;\n      align-items: center;\n      color: ${theme.colors.text.secondary};\n      font-size: ${theme.typography.bodySmall.fontSize};\n      padding-top: ${theme.spacing(0.5)};\n\n      svg {\n        margin-right: ${theme.spacing(0.5)};\n        margin-bottom: 3px;\n      }\n    `,\n  };\n}\n","import { AnyAction } from '@reduxjs/toolkit';\nimport { Dispatch } from 'react';\nimport { from, merge, of, Subscription, timer } from 'rxjs';\nimport { catchError, finalize, mapTo, mergeMap, share, takeUntil } from 'rxjs/operators';\n\nimport { deleteLibraryPanel as apiDeleteLibraryPanel, getLibraryPanels } from '../../state/api';\n\nimport { initialLibraryPanelsViewState, initSearch, searchCompleted } from './reducer';\n\ntype DispatchResult = (dispatch: Dispatch<AnyAction>) => void;\ninterface SearchArgs {\n  perPage: number;\n  page: number;\n  searchString: string;\n  sortDirection?: string;\n  panelFilter?: string[];\n  folderFilterUIDs?: string[];\n  currentPanelId?: string;\n}\n\nexport function searchForLibraryPanels(args: SearchArgs): DispatchResult {\n  return function (dispatch) {\n    const subscription = new Subscription();\n    const dataObservable = from(\n      getLibraryPanels({\n        searchString: args.searchString,\n        perPage: args.perPage,\n        page: args.page,\n        excludeUid: args.currentPanelId,\n        sortDirection: args.sortDirection,\n        typeFilter: args.panelFilter,\n        folderFilterUIDs: args.folderFilterUIDs,\n      })\n    ).pipe(\n      mergeMap(({ perPage, elements: libraryPanels, page, totalCount }) =>\n        of(searchCompleted({ libraryPanels, page, perPage, totalCount }))\n      ),\n      catchError((err) => {\n        console.error(err);\n        return of(searchCompleted({ ...initialLibraryPanelsViewState, page: args.page, perPage: args.perPage }));\n      }),\n      finalize(() => subscription.unsubscribe()), // make sure we unsubscribe\n      share()\n    );\n\n    subscription.add(\n      // If 50ms without a response dispatch a loading state\n      // mapTo will translate the timer event into a loading state\n      // takeUntil will cancel the timer emit when first response is received on the dataObservable\n      merge(timer(50).pipe(mapTo(initSearch()), takeUntil(dataObservable)), dataObservable).subscribe(dispatch)\n    );\n  };\n}\n\nexport function deleteLibraryPanel(uid: string, args: SearchArgs): DispatchResult {\n  return async function (dispatch) {\n    try {\n      await apiDeleteLibraryPanel(uid);\n      searchForLibraryPanels(args)(dispatch);\n    } catch (e) {\n      console.error(e);\n    }\n  };\n}\n\nexport function asyncDispatcher(dispatch: Dispatch<AnyAction>) {\n  return function (action: any) {\n    if (action instanceof Function) {\n      return action(dispatch);\n    }\n    return dispatch(action);\n  };\n}\n","import { createAction } from '@reduxjs/toolkit';\nimport { AnyAction } from 'redux';\n\nimport { LoadingState } from '@grafana/data';\n\nimport { LibraryElementDTO } from '../../types';\n\nexport interface LibraryPanelsViewState {\n  loadingState: LoadingState;\n  libraryPanels: LibraryElementDTO[];\n  totalCount: number;\n  perPage: number;\n  page: number;\n  numberOfPages: number;\n  currentPanelId?: string;\n}\n\nexport const initialLibraryPanelsViewState: LibraryPanelsViewState = {\n  loadingState: LoadingState.Loading,\n  libraryPanels: [],\n  totalCount: 0,\n  perPage: 40,\n  page: 1,\n  numberOfPages: 0,\n  currentPanelId: undefined,\n};\n\nexport const initSearch = createAction('libraryPanels/view/initSearch');\nexport const searchCompleted = createAction<\n  Omit<LibraryPanelsViewState, 'currentPanelId' | 'searchString' | 'loadingState' | 'numberOfPages'>\n>('libraryPanels/view/searchCompleted');\n\nexport const changePage = createAction<Pick<LibraryPanelsViewState, 'page'>>('libraryPanels/view/changePage');\n\nexport const libraryPanelsViewReducer = (state: LibraryPanelsViewState, action: AnyAction) => {\n  if (initSearch.match(action)) {\n    return { ...state, loadingState: LoadingState.Loading };\n  }\n\n  if (searchCompleted.match(action)) {\n    const { libraryPanels, page, perPage, totalCount } = action.payload;\n    const numberOfPages = Math.ceil(totalCount / perPage);\n    return {\n      ...state,\n      libraryPanels,\n      perPage,\n      totalCount,\n      loadingState: LoadingState.Done,\n      numberOfPages,\n      page: page > numberOfPages ? page - 1 : page,\n    };\n  }\n\n  if (changePage.match(action)) {\n    return { ...state, page: action.payload.page };\n  }\n\n  return state;\n};\n","import { css } from '@emotion/css';\n\nimport { GrafanaTheme2 } from '@grafana/data';\n\nexport function getModalStyles(theme: GrafanaTheme2) {\n  return {\n    myTable: css`\n      max-height: 204px;\n      overflow-y: auto;\n      margin-top: 11px;\n      margin-bottom: 28px;\n      border-radius: ${theme.shape.borderRadius(1)};\n      border: 1px solid ${theme.colors.action.hover};\n      background: ${theme.colors.background.primary};\n      color: ${theme.colors.text.secondary};\n      font-size: ${theme.typography.h6.fontSize};\n      width: 100%;\n\n      thead {\n        color: #538ade;\n        font-size: ${theme.typography.bodySmall.fontSize};\n      }\n\n      th,\n      td {\n        padding: 6px 13px;\n        height: ${theme.spacing(4)};\n      }\n\n      tbody > tr:nth-child(odd) {\n        background: ${theme.colors.background.secondary};\n      }\n    `,\n    noteTextbox: css`\n      margin-bottom: ${theme.spacing(4)};\n    `,\n    textInfo: css`\n      color: ${theme.colors.text.secondary};\n      font-size: ${theme.typography.size.sm};\n    `,\n    dashboardSearch: css`\n      margin-top: ${theme.spacing(2)};\n    `,\n    modal: css`\n      width: 500px;\n    `,\n    modalText: css`\n      font-size: ${theme.typography.h4.fontSize};\n      color: ${theme.colors.text.primary};\n      margin-bottom: ${theme.spacing(4)};\n      padding-top: ${theme.spacing(2)};\n    `,\n  };\n}\n","import { getBackendSrv } from '@grafana/runtime';\n\nimport { validationSrv } from '../services/ValidationSrv';\n\nexport const validateDashboardJson = (json: string) => {\n  let dashboard;\n  try {\n    dashboard = JSON.parse(json);\n  } catch (error) {\n    return 'Not valid JSON';\n  }\n  if (dashboard && dashboard.hasOwnProperty('tags')) {\n    if (Array.isArray(dashboard.tags)) {\n      const hasInvalidTag = dashboard.tags.some((tag: string) => typeof tag !== 'string');\n      if (hasInvalidTag) {\n        return 'tags expected array of strings';\n      }\n    } else {\n      return 'tags expected array';\n    }\n  }\n  return true;\n};\n\nexport const validateGcomDashboard = (gcomDashboard: string) => {\n  // From DashboardImportCtrl\n  const match = /(^\\d+$)|dashboards\\/(\\d+)/.exec(gcomDashboard);\n\n  return match && (match[1] || match[2]) ? true : 'Could not find a valid Grafana.com ID';\n};\n\nexport const validateTitle = (newTitle: string, folderId: number) => {\n  return validationSrv\n    .validateNewDashboardName(folderId, newTitle)\n    .then(() => {\n      return true;\n    })\n    .catch((error) => {\n      if (error.type === 'EXISTING') {\n        return error.message;\n      }\n    });\n};\n\nexport const validateUid = (value: string) => {\n  return getBackendSrv()\n    .get(`/api/dashboards/uid/${value}`)\n    .then((existingDashboard) => {\n      return `Dashboard named '${existingDashboard?.dashboard.title}' in folder '${existingDashboard?.meta.folderTitle}' has the same UID`;\n    })\n    .catch((error) => {\n      error.isHandled = true;\n      return true;\n    });\n};\n","import { css } from '@emotion/css';\nimport React, { ReactElement } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { Field, useStyles2 } from '@grafana/ui';\n\nimport { LibraryPanelCard } from '../../library-panels/components/LibraryPanelCard/LibraryPanelCard';\nimport { LibraryPanelInput, LibraryPanelInputState } from '../state/reducers';\n\ninterface ImportDashboardLibraryPanelsListProps {\n  inputs: LibraryPanelInput[];\n  label: string;\n  description: string;\n  folderName?: string;\n}\n\nexport function ImportDashboardLibraryPanelsList({\n  inputs,\n  label,\n  description,\n  folderName,\n}: ImportDashboardLibraryPanelsListProps): ReactElement | null {\n  const styles = useStyles2(getStyles);\n\n  if (!Boolean(inputs?.length)) {\n    return null;\n  }\n\n  return (\n    <div className={styles.spacer}>\n      <Field label={label} description={description}>\n        <>\n          {inputs.map((input, index) => {\n            const libraryPanelIndex = `elements[${index}]`;\n            const libraryPanel =\n              input.state === LibraryPanelInputState.New\n                ? { ...input.model, meta: { ...input.model.meta, folderName: folderName ?? 'General' } }\n                : { ...input.model };\n            return (\n              <div className={styles.item} key={libraryPanelIndex}>\n                <LibraryPanelCard libraryPanel={libraryPanel} onClick={() => undefined} />\n              </div>\n            );\n          })}\n        </>\n      </Field>\n    </div>\n  );\n}\n\nfunction getStyles(theme: GrafanaTheme2) {\n  return {\n    spacer: css`\n      margin-bottom: ${theme.spacing(2)};\n    `,\n    item: css`\n      margin-bottom: ${theme.spacing(1)};\n    `,\n  };\n}\n","import React, { FC, useEffect, useState } from 'react';\n\nimport { selectors } from '@grafana/e2e-selectors';\nimport { DataSourcePicker } from '@grafana/runtime';\nimport { ExpressionDatasourceRef } from '@grafana/runtime/src/utils/DataSourceWithBackend';\nimport {\n  Button,\n  Field,\n  FormAPI,\n  FormFieldErrors,\n  FormsOnSubmit,\n  HorizontalGroup,\n  Input,\n  InputControl,\n  Legend,\n} from '@grafana/ui';\nimport { FolderPicker } from 'app/core/components/Select/FolderPicker';\n\nimport {\n  DashboardInput,\n  DashboardInputs,\n  DataSourceInput,\n  ImportDashboardDTO,\n  LibraryPanelInputState,\n} from '../state/reducers';\nimport { validateTitle, validateUid } from '../utils/validation';\n\nimport { ImportDashboardLibraryPanelsList } from './ImportDashboardLibraryPanelsList';\n\ninterface Props extends Pick<FormAPI<ImportDashboardDTO>, 'register' | 'errors' | 'control' | 'getValues' | 'watch'> {\n  uidReset: boolean;\n  inputs: DashboardInputs;\n  initialFolderId: number;\n\n  onCancel: () => void;\n  onUidReset: () => void;\n  onSubmit: FormsOnSubmit<ImportDashboardDTO>;\n}\n\nexport const ImportDashboardForm: FC<Props> = ({\n  register,\n  errors,\n  control,\n  getValues,\n  uidReset,\n  inputs,\n  initialFolderId,\n  onUidReset,\n  onCancel,\n  onSubmit,\n  watch,\n}) => {\n  const [isSubmitted, setSubmitted] = useState(false);\n  const watchDataSources = watch('dataSources');\n  const watchFolder = watch('folder');\n\n  /*\n    This useEffect is needed for overwriting a dashboard. It\n    submits the form even if there's validation errors on title or uid.\n  */\n  useEffect(() => {\n    if (isSubmitted && (errors.title || errors.uid)) {\n      onSubmit(getValues(), {} as any);\n    }\n  }, [errors, getValues, isSubmitted, onSubmit]);\n  const newLibraryPanels = inputs?.libraryPanels?.filter((i) => i.state === LibraryPanelInputState.New) ?? [];\n  const existingLibraryPanels = inputs?.libraryPanels?.filter((i) => i.state === LibraryPanelInputState.Exists) ?? [];\n\n  return (\n    <>\n      <Legend>Options</Legend>\n      <Field label=\"Name\" invalid={!!errors.title} error={errors.title && errors.title.message}>\n        <Input\n          {...register('title', {\n            required: 'Name is required',\n            validate: async (v: string) => await validateTitle(v, getValues().folder.id),\n          })}\n          type=\"text\"\n          data-testid={selectors.components.ImportDashboardForm.name}\n        />\n      </Field>\n      <Field label=\"Folder\">\n        <InputControl\n          render={({ field: { ref, ...field } }) => (\n            <FolderPicker {...field} enableCreateNew initialFolderId={initialFolderId} />\n          )}\n          name=\"folder\"\n          control={control}\n        />\n      </Field>\n      <Field\n        label=\"Unique identifier (UID)\"\n        description=\"The unique identifier (UID) of a dashboard can be used for uniquely identify a dashboard between multiple Grafana installs.\n                The UID allows having consistent URLs for accessing dashboards so changing the title of a dashboard will not break any\n                bookmarked links to that dashboard.\"\n        invalid={!!errors.uid}\n        error={errors.uid && errors.uid.message}\n      >\n        <>\n          {!uidReset ? (\n            <Input\n              disabled\n              {...register('uid', { validate: async (v: string) => await validateUid(v) })}\n              addonAfter={!uidReset && <Button onClick={onUidReset}>Change uid</Button>}\n            />\n          ) : (\n            <Input {...register('uid', { required: true, validate: async (v: string) => await validateUid(v) })} />\n          )}\n        </>\n      </Field>\n      {inputs.dataSources &&\n        inputs.dataSources.map((input: DataSourceInput, index: number) => {\n          if (input.pluginId === ExpressionDatasourceRef.type) {\n            return null;\n          }\n          const dataSourceOption = `dataSources[${index}]`;\n          const current = watchDataSources ?? [];\n          return (\n            <Field\n              label={input.label}\n              key={dataSourceOption}\n              invalid={errors.dataSources && !!errors.dataSources[index]}\n              error={errors.dataSources && errors.dataSources[index] && 'A data source is required'}\n            >\n              <InputControl\n                name={dataSourceOption as any}\n                render={({ field: { ref, ...field } }) => (\n                  <DataSourcePicker\n                    {...field}\n                    noDefault={true}\n                    placeholder={input.info}\n                    pluginId={input.pluginId}\n                    current={current[index]?.uid}\n                  />\n                )}\n                control={control}\n                rules={{ required: true }}\n              />\n            </Field>\n          );\n        })}\n      {inputs.constants &&\n        inputs.constants.map((input: DashboardInput, index) => {\n          const constantIndex = `constants[${index}]`;\n          return (\n            <Field\n              label={input.label}\n              error={errors.constants && errors.constants[index] && `${input.label} needs a value`}\n              invalid={errors.constants && !!errors.constants[index]}\n              key={constantIndex}\n            >\n              <Input {...register(constantIndex as any, { required: true })} defaultValue={input.value} />\n            </Field>\n          );\n        })}\n      <ImportDashboardLibraryPanelsList\n        inputs={newLibraryPanels}\n        label=\"New library panels\"\n        description=\"List of new library panels that will get imported.\"\n        folderName={watchFolder.title}\n      />\n      <ImportDashboardLibraryPanelsList\n        inputs={existingLibraryPanels}\n        label=\"Existing library panels\"\n        description=\"List of existing library panels. These panels are not affected by the import.\"\n        folderName={watchFolder.title}\n      />\n      <HorizontalGroup>\n        <Button\n          type=\"submit\"\n          data-testid={selectors.components.ImportDashboardForm.submit}\n          variant={getButtonVariant(errors)}\n          onClick={() => {\n            setSubmitted(true);\n          }}\n        >\n          {getButtonText(errors)}\n        </Button>\n        <Button type=\"reset\" variant=\"secondary\" onClick={onCancel}>\n          Cancel\n        </Button>\n      </HorizontalGroup>\n    </>\n  );\n};\n\nfunction getButtonVariant(errors: FormFieldErrors<ImportDashboardDTO>) {\n  return errors && (errors.title || errors.uid) ? 'destructive' : 'primary';\n}\n\nfunction getButtonText(errors: FormFieldErrors<ImportDashboardDTO>) {\n  return errors && (errors.title || errors.uid) ? 'Import (Overwrite)' : 'Import';\n}\n","import React, { PureComponent } from 'react';\nimport { connect, ConnectedProps } from 'react-redux';\n\nimport { dateTimeFormat } from '@grafana/data';\nimport { locationService, reportInteraction } from '@grafana/runtime';\nimport { Form, Legend } from '@grafana/ui';\nimport { StoreState } from 'app/types';\n\nimport { clearLoadedDashboard, importDashboard } from '../state/actions';\nimport { DashboardSource, ImportDashboardDTO } from '../state/reducers';\n\nimport { ImportDashboardForm } from './ImportDashboardForm';\n\nconst IMPORT_FINISHED_EVENT_NAME = 'dashboard_import_imported';\n\nconst mapStateToProps = (state: StoreState) => {\n  const searchObj = locationService.getSearchObject();\n\n  return {\n    dashboard: state.importDashboard.dashboard,\n    meta: state.importDashboard.meta,\n    source: state.importDashboard.source,\n    inputs: state.importDashboard.inputs,\n    folder: searchObj.folderId ? { id: Number(searchObj.folderId) } : { id: 0 },\n  };\n};\n\nconst mapDispatchToProps = {\n  clearLoadedDashboard,\n  importDashboard,\n};\n\nconst connector = connect(mapStateToProps, mapDispatchToProps);\n\ntype Props = ConnectedProps<typeof connector>;\n\ninterface State {\n  uidReset: boolean;\n}\n\nclass ImportDashboardOverviewUnConnected extends PureComponent<Props, State> {\n  state: State = {\n    uidReset: false,\n  };\n\n  onSubmit = (form: ImportDashboardDTO) => {\n    reportInteraction(IMPORT_FINISHED_EVENT_NAME);\n\n    this.props.importDashboard(form);\n  };\n\n  onCancel = () => {\n    this.props.clearLoadedDashboard();\n  };\n\n  onUidReset = () => {\n    this.setState({ uidReset: true });\n  };\n\n  render() {\n    const { dashboard, inputs, meta, source, folder } = this.props;\n    const { uidReset } = this.state;\n\n    return (\n      <>\n        {source === DashboardSource.Gcom && (\n          <div style={{ marginBottom: '24px' }}>\n            <div>\n              <Legend>\n                Importing dashboard from{' '}\n                <a\n                  href={`https://grafana.com/dashboards/${dashboard.gnetId}`}\n                  className=\"external-link\"\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                >\n                  Grafana.com\n                </a>\n              </Legend>\n            </div>\n            <table className=\"filter-table form-inline\">\n              <tbody>\n                <tr>\n                  <td>Published by</td>\n                  <td>{meta.orgName}</td>\n                </tr>\n                <tr>\n                  <td>Updated on</td>\n                  <td>{dateTimeFormat(meta.updatedAt)}</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        )}\n        <Form\n          onSubmit={this.onSubmit}\n          defaultValues={{ ...dashboard, constants: [], dataSources: [], elements: [], folder: folder }}\n          validateOnMount\n          validateFieldsOnMount={['title', 'uid']}\n          validateOn=\"onChange\"\n        >\n          {({ register, errors, control, watch, getValues }) => (\n            <ImportDashboardForm\n              register={register}\n              errors={errors}\n              control={control}\n              getValues={getValues}\n              uidReset={uidReset}\n              inputs={inputs}\n              onCancel={this.onCancel}\n              onUidReset={this.onUidReset}\n              onSubmit={this.onSubmit}\n              watch={watch}\n              initialFolderId={folder.id}\n            />\n          )}\n        </Form>\n      </>\n    );\n  }\n}\n\nexport const ImportDashboardOverview = connector(ImportDashboardOverviewUnConnected);\nImportDashboardOverview.displayName = 'ImportDashboardOverview';\n","import { css } from '@emotion/css';\nimport React, { FormEvent, PureComponent } from 'react';\nimport { connect, ConnectedProps } from 'react-redux';\n\nimport { AppEvents, GrafanaTheme2, LoadingState, NavModelItem } from '@grafana/data';\nimport { selectors } from '@grafana/e2e-selectors';\nimport { reportInteraction } from '@grafana/runtime';\nimport {\n  Button,\n  Field,\n  FileUpload,\n  Form,\n  HorizontalGroup,\n  Input,\n  Spinner,\n  stylesFactory,\n  TextArea,\n  Themeable2,\n  VerticalGroup,\n  withTheme2,\n} from '@grafana/ui';\nimport appEvents from 'app/core/app_events';\nimport { Page } from 'app/core/components/Page/Page';\nimport { GrafanaRouteComponentProps } from 'app/core/navigation/types';\nimport { StoreState } from 'app/types';\n\nimport { cleanUpAction } from '../../core/actions/cleanUp';\n\nimport { ImportDashboardOverview } from './components/ImportDashboardOverview';\nimport { fetchGcomDashboard, importDashboardJson } from './state/actions';\nimport { initialImportDashboardState } from './state/reducers';\nimport { validateDashboardJson, validateGcomDashboard } from './utils/validation';\n\ntype DashboardImportPageRouteSearchParams = {\n  gcomDashboardId?: string;\n};\n\ntype OwnProps = Themeable2 & GrafanaRouteComponentProps<{}, DashboardImportPageRouteSearchParams>;\n\nconst IMPORT_STARTED_EVENT_NAME = 'dashboard_import_loaded';\n\nconst mapStateToProps = (state: StoreState) => ({\n  loadingState: state.importDashboard.state,\n});\n\nconst mapDispatchToProps = {\n  fetchGcomDashboard,\n  importDashboardJson,\n  cleanUpAction,\n};\n\nconst connector = connect(mapStateToProps, mapDispatchToProps);\n\ntype Props = OwnProps & ConnectedProps<typeof connector>;\n\nclass UnthemedDashboardImport extends PureComponent<Props> {\n  constructor(props: Props) {\n    super(props);\n    const { gcomDashboardId } = this.props.queryParams;\n    if (gcomDashboardId) {\n      this.getGcomDashboard({ gcomDashboard: gcomDashboardId });\n      return;\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.cleanUpAction({ cleanupAction: (state) => (state.importDashboard = initialImportDashboardState) });\n  }\n\n  onFileUpload = (event: FormEvent<HTMLInputElement>) => {\n    reportInteraction(IMPORT_STARTED_EVENT_NAME, {\n      import_source: 'json_uploaded',\n    });\n\n    const { importDashboardJson } = this.props;\n    const file = event.currentTarget.files && event.currentTarget.files.length > 0 && event.currentTarget.files[0];\n\n    if (file) {\n      const reader = new FileReader();\n      const readerOnLoad = () => {\n        return (e: any) => {\n          let dashboard: any;\n          try {\n            dashboard = JSON.parse(e.target.result);\n          } catch (error) {\n            if (error instanceof Error) {\n              appEvents.emit(AppEvents.alertError, [\n                'Import failed',\n                'JSON -> JS Serialization failed: ' + error.message,\n              ]);\n            }\n            return;\n          }\n          importDashboardJson(dashboard);\n        };\n      };\n      reader.onload = readerOnLoad();\n      reader.readAsText(file);\n    }\n  };\n\n  getDashboardFromJson = (formData: { dashboardJson: string }) => {\n    reportInteraction(IMPORT_STARTED_EVENT_NAME, {\n      import_source: 'json_pasted',\n    });\n\n    this.props.importDashboardJson(JSON.parse(formData.dashboardJson));\n  };\n\n  getGcomDashboard = (formData: { gcomDashboard: string }) => {\n    reportInteraction(IMPORT_STARTED_EVENT_NAME, {\n      import_source: 'gcom',\n    });\n\n    let dashboardId;\n    const match = /(^\\d+$)|dashboards\\/(\\d+)/.exec(formData.gcomDashboard);\n    if (match && match[1]) {\n      dashboardId = match[1];\n    } else if (match && match[2]) {\n      dashboardId = match[2];\n    }\n\n    if (dashboardId) {\n      this.props.fetchGcomDashboard(dashboardId);\n    }\n  };\n\n  renderImportForm() {\n    const styles = importStyles(this.props.theme);\n\n    return (\n      <>\n        <div className={styles.option}>\n          <FileUpload accept=\"application/json\" onFileUpload={this.onFileUpload}>\n            Upload JSON file\n          </FileUpload>\n        </div>\n        <div className={styles.option}>\n          <Form onSubmit={this.getGcomDashboard} defaultValues={{ gcomDashboard: '' }}>\n            {({ register, errors }) => (\n              <Field\n                label=\"Import via grafana.com\"\n                invalid={!!errors.gcomDashboard}\n                error={errors.gcomDashboard && errors.gcomDashboard.message}\n              >\n                <Input\n                  id=\"url-input\"\n                  placeholder=\"Grafana.com dashboard URL or ID\"\n                  type=\"text\"\n                  {...register('gcomDashboard', {\n                    required: 'A Grafana dashboard URL or ID is required',\n                    validate: validateGcomDashboard,\n                  })}\n                  addonAfter={<Button type=\"submit\">Load</Button>}\n                />\n              </Field>\n            )}\n          </Form>\n        </div>\n        <div className={styles.option}>\n          <Form onSubmit={this.getDashboardFromJson} defaultValues={{ dashboardJson: '' }}>\n            {({ register, errors }) => (\n              <>\n                <Field\n                  label=\"Import via panel json\"\n                  invalid={!!errors.dashboardJson}\n                  error={errors.dashboardJson && errors.dashboardJson.message}\n                >\n                  <TextArea\n                    {...register('dashboardJson', {\n                      required: 'Need a dashboard JSON model',\n                      validate: validateDashboardJson,\n                    })}\n                    data-testid={selectors.components.DashboardImportPage.textarea}\n                    id=\"dashboard-json-textarea\"\n                    rows={10}\n                  />\n                </Field>\n                <Button type=\"submit\" data-testid={selectors.components.DashboardImportPage.submit}>\n                  Load\n                </Button>\n              </>\n            )}\n          </Form>\n        </div>\n      </>\n    );\n  }\n\n  pageNav: NavModelItem = {\n    text: 'Import dashboard',\n    subTitle: 'Import dashboard from file or Grafana.com\"',\n    breadcrumbs: [{ title: 'Dashboards', url: 'dashboards' }],\n  };\n\n  render() {\n    const { loadingState } = this.props;\n\n    return (\n      <Page navId=\"dashboards/browse\" pageNav={this.pageNav}>\n        <Page.Contents>\n          {loadingState === LoadingState.Loading && (\n            <VerticalGroup justify=\"center\">\n              <HorizontalGroup justify=\"center\">\n                <Spinner size={32} />\n              </HorizontalGroup>\n            </VerticalGroup>\n          )}\n          {[LoadingState.Error, LoadingState.NotStarted].includes(loadingState) && this.renderImportForm()}\n          {loadingState === LoadingState.Done && <ImportDashboardOverview />}\n        </Page.Contents>\n      </Page>\n    );\n  }\n}\n\nconst DashboardImportUnConnected = withTheme2(UnthemedDashboardImport);\nconst DashboardImport = connector(DashboardImportUnConnected);\nDashboardImport.displayName = 'DashboardImport';\nexport default DashboardImport;\n\nconst importStyles = stylesFactory((theme: GrafanaTheme2) => {\n  return {\n    option: css`\n      margin-bottom: ${theme.spacing(4)};\n    `,\n  };\n});\n","import { css, cx } from '@emotion/css';\nimport React, { MouseEventHandler } from 'react';\n\nimport { GrafanaTheme2, isUnsignedPluginSignature, PanelPluginMeta, PluginState } from '@grafana/data';\nimport { selectors } from '@grafana/e2e-selectors';\nimport { IconButton, PluginSignatureBadge, useStyles2 } from '@grafana/ui';\nimport { PluginStateInfo } from 'app/features/plugins/components/PluginStateInfo';\n\ninterface Props {\n  isCurrent: boolean;\n  plugin: PanelPluginMeta;\n  title: string;\n  onClick: MouseEventHandler<HTMLDivElement>;\n  onDelete?: () => void;\n  disabled?: boolean;\n  showBadge?: boolean;\n  description?: string;\n}\n\nexport const PanelTypeCard = ({\n  isCurrent,\n  title,\n  plugin,\n  onClick,\n  onDelete,\n  disabled,\n  showBadge,\n  description,\n  children,\n}: React.PropsWithChildren<Props>) => {\n  const styles = useStyles2(getStyles);\n  const isDisabled = disabled || plugin.state === PluginState.deprecated;\n  const cssClass = cx({\n    [styles.item]: true,\n    [styles.itemDisabled]: isDisabled,\n    [styles.current]: isCurrent,\n  });\n\n  return (\n    <div\n      className={cssClass}\n      aria-label={selectors.components.PluginVisualization.item(plugin.name)}\n      onClick={isDisabled ? undefined : onClick}\n      title={isCurrent ? 'Click again to close this section' : plugin.name}\n    >\n      <img className={cx(styles.img, { [styles.disabled]: isDisabled })} src={plugin.info.logos.small} alt=\"\" />\n\n      <div className={cx(styles.itemContent, { [styles.disabled]: isDisabled })}>\n        <div className={styles.name}>{title}</div>\n        {description ? <span className={styles.description}>{description}</span> : null}\n        {children}\n      </div>\n      {showBadge && (\n        <div className={cx(styles.badge, { [styles.disabled]: isDisabled })}>\n          <PanelPluginBadge plugin={plugin} />\n        </div>\n      )}\n      {onDelete && (\n        <IconButton\n          name=\"trash-alt\"\n          onClick={(e) => {\n            e.stopPropagation();\n            onDelete();\n          }}\n          className={styles.deleteButton}\n          aria-label=\"Delete button on panel type card\"\n        />\n      )}\n    </div>\n  );\n};\n\nPanelTypeCard.displayName = 'PanelTypeCard';\n\nconst getStyles = (theme: GrafanaTheme2) => {\n  return {\n    item: css`\n      position: relative;\n      display: flex;\n      flex-shrink: 0;\n      cursor: pointer;\n      background: ${theme.colors.background.secondary};\n      border-radius: ${theme.shape.borderRadius()};\n      box-shadow: ${theme.shadows.z1};\n      border: 1px solid ${theme.colors.background.secondary};\n      align-items: center;\n      padding: 8px;\n      width: 100%;\n      position: relative;\n      overflow: hidden;\n      transition: ${theme.transitions.create(['background'], {\n        duration: theme.transitions.duration.short,\n      })};\n\n      &:hover {\n        background: ${theme.colors.emphasize(theme.colors.background.secondary, 0.03)};\n      }\n    `,\n    itemContent: css`\n      overflow: hidden;\n      position: relative;\n      padding: ${theme.spacing(0, 1)};\n    `,\n    itemDisabled: css`\n      cursor: default;\n\n      &,\n      &:hover {\n        background: ${theme.colors.action.disabledBackground};\n      }\n    `,\n    current: css`\n      label: currentVisualizationItem;\n      border: 1px solid ${theme.colors.primary.border};\n      background: ${theme.colors.action.selected};\n    `,\n    disabled: css`\n      opacity: ${theme.colors.action.disabledOpacity};\n      filter: grayscale(1);\n      cursor: default;\n      pointer-events: none;\n    `,\n    name: css`\n      text-overflow: ellipsis;\n      overflow: hidden;\n      font-size: ${theme.typography.size.sm};\n      font-weight: ${theme.typography.fontWeightMedium};\n      width: 100%;\n    `,\n    description: css`\n      display: block;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      color: ${theme.colors.text.secondary};\n      font-size: ${theme.typography.bodySmall.fontSize};\n      font-weight: ${theme.typography.fontWeightLight};\n      width: 100%;\n      max-height: 4.5em;\n    `,\n    img: css`\n      max-height: 38px;\n      width: 38px;\n      display: flex;\n      align-items: center;\n    `,\n    badge: css`\n      background: ${theme.colors.background.primary};\n    `,\n    deleteButton: css`\n      cursor: pointer;\n      margin-left: auto;\n    `,\n  };\n};\n\ninterface PanelPluginBadgeProps {\n  plugin: PanelPluginMeta;\n}\n\nconst PanelPluginBadge = ({ plugin }: PanelPluginBadgeProps) => {\n  if (isUnsignedPluginSignature(plugin.signature)) {\n    return <PluginSignatureBadge status={plugin.signature} />;\n  }\n\n  return <PluginStateInfo state={plugin.state} />;\n};\n\nPanelPluginBadge.displayName = 'PanelPluginBadge';\n","import React, { FC } from 'react';\n\nimport { PluginState } from '@grafana/data';\nimport { Badge, BadgeProps } from '@grafana/ui';\n\ninterface Props {\n  state?: PluginState;\n}\n\nexport const PluginStateInfo: FC<Props> = (props) => {\n  const display = getFeatureStateInfo(props.state);\n\n  if (!display) {\n    return null;\n  }\n\n  return <Badge color={display.color} title={display.tooltip} text={display.text} icon={display.icon} />;\n};\n\nfunction getFeatureStateInfo(state?: PluginState): BadgeProps | null {\n  switch (state) {\n    case PluginState.deprecated:\n      return {\n        text: 'Deprecated',\n        color: 'red',\n        tooltip: `This feature is deprecated and will be removed in a future release`,\n      };\n    case PluginState.alpha:\n      return {\n        text: 'Alpha',\n        color: 'blue',\n        tooltip: `This feature is experimental and future updates might not be backward compatible`,\n      };\n    case PluginState.beta:\n      return {\n        text: 'Beta',\n        color: 'blue',\n        tooltip: `This feature is close to complete but not fully tested`,\n      };\n    default:\n      return null;\n  }\n}\n"],"names":["initialDeleteLibraryPanelModalState","loadingState","LoadingState","dashboardTitles","searchCompleted","createAction","deleteLibraryPanelModalReducer","state","action","match","payload","dashboards","map","d","title","DeleteLibraryPanelModal","libraryPanel","onDismiss","onConfirm","styles","useStyles2","getModalStyles","dispatch","useReducer","asyncDispatch","useMemo","asyncDispatcher","useEffect","async","apiGetConnectedDashboards","uid","getConnectedDashboards","connected","Boolean","length","done","Modal","className","modal","icon","isOpen","LoadingIndicator","HasConnectedDashboards","Confirm","Button","variant","onClick","fill","disabled","modalText","suffix","message","textInfo","myTable","i","LibraryPanelCard","onDelete","showSecondaryActions","showDeletionModal","setShowDeletionModal","useState","panelPlugin","config","model","type","getPanelPluginNotFound","meta","PanelTypeCard","isCurrent","name","description","plugin","undefined","FolderLink","getStyles","folderUid","folderName","metaContainer","Link","href","Icon","size","theme","css","colors","text","secondary","typography","bodySmall","fontSize","spacing","searchForLibraryPanels","args","subscription","Subscription","dataObservable","from","getLibraryPanels","searchString","perPage","page","excludeUid","currentPanelId","sortDirection","typeFilter","panelFilter","folderFilterUIDs","pipe","mergeMap","elements","libraryPanels","totalCount","of","catchError","err","console","error","initialLibraryPanelsViewState","finalize","unsubscribe","share","add","merge","timer","mapTo","initSearch","takeUntil","subscribe","deleteLibraryPanel","apiDeleteLibraryPanel","e","Function","numberOfPages","changePage","libraryPanelsViewReducer","Math","ceil","shape","borderRadius","hover","background","primary","h6","noteTextbox","sm","dashboardSearch","h4","validateDashboardJson","json","dashboard","JSON","parse","hasOwnProperty","Array","isArray","tags","some","tag","validateGcomDashboard","gcomDashboard","exec","validateUid","value","getBackendSrv","get","then","existingDashboard","folderTitle","catch","isHandled","ImportDashboardLibraryPanelsList","inputs","label","spacer","Field","input","index","libraryPanelIndex","LibraryPanelInputState","item","ImportDashboardForm","register","errors","control","getValues","uidReset","initialFolderId","onUidReset","onCancel","onSubmit","watch","isSubmitted","setSubmitted","watchDataSources","watchFolder","newLibraryPanels","filter","existingLibraryPanels","Legend","invalid","Input","I","required","validate","await","newTitle","v","folderId","folder","id","validationSrv","selectors","InputControl","render","field","FolderPicker","enableCreateNew","addonAfter","dataSources","pluginId","ExpressionDatasourceRef","dataSourceOption","current","DataSourcePicker","noDefault","placeholder","info","rules","constants","constantIndex","defaultValue","getButtonVariant","getButtonText","mapDispatchToProps","clearLoadedDashboard","importDashboard","connector","connect","searchObj","locationService","source","Number","ImportDashboardOverviewUnConnected","PureComponent","form","reportInteraction","this","props","setState","DashboardSource","style","marginBottom","gnetId","target","rel","orgName","dateTimeFormat","updatedAt","Form","defaultValues","validateOnMount","validateFieldsOnMount","validateOn","ImportDashboardOverview","displayName","IMPORT_STARTED_EVENT_NAME","fetchGcomDashboard","importDashboardJson","cleanUpAction","UnthemedDashboardImport","constructor","super","event","import_source","file","currentTarget","files","reader","FileReader","readerOnLoad","result","Error","appEvents","AppEvents","onload","readAsText","formData","dashboardJson","dashboardId","subTitle","breadcrumbs","url","gcomDashboardId","queryParams","getGcomDashboard","componentWillUnmount","cleanupAction","initialImportDashboardState","renderImportForm","importStyles","option","FileUpload","accept","onFileUpload","getDashboardFromJson","TextArea","rows","Page","navId","pageNav","justify","Spinner","includes","DashboardImport","withTheme2","stylesFactory","showBadge","children","isDisabled","PluginState","cssClass","cx","itemDisabled","img","src","logos","small","alt","itemContent","badge","PanelPluginBadge","stopPropagation","deleteButton","shadows","z1","transitions","create","duration","short","emphasize","disabledBackground","border","selected","disabledOpacity","fontWeightMedium","fontWeightLight","isUnsignedPluginSignature","signature","status","PluginStateInfo","display","color","tooltip","getFeatureStateInfo"],"sourceRoot":""}