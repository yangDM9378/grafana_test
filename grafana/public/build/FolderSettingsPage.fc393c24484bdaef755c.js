"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[4827],{42480:(e,t,s)=>{s.r(t),s.d(t,{FolderSettingsPage:()=>F,default:()=>w});var a,i,o=s(68404),n=s(36635),r=s(65231),l=s(8006),d=s(2247),h=s(37417),c=s(85829),p=s(8105),f=s(41120),g=s(83146),u=s(5404),m=s(45916);function v(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const{Input:b}=r.vw6,x={getFolderByUid:f.Pb,saveFolder:f.OD,setFolderTitle:u.Ss,deleteFolder:f.Go},j=(0,n.connect)(((e,t)=>{const s=t.match.params.uid;return{pageNav:(0,c.ht)(e.navIndex,`folder-settings-${s}`,(0,g._)(2)),folderUid:s,folder:e.folder}}),x);class F extends o.PureComponent{constructor(e){super(e),v(this,"onTitleChange",(e=>{this.props.setFolderTitle(e.target.value)})),v(this,"onSave",(async e=>{e.preventDefault(),e.stopPropagation(),this.setState({isLoading:!0}),await this.props.saveFolder(this.props.folder),this.setState({isLoading:!1})})),v(this,"onDelete",(e=>{e.stopPropagation(),e.preventDefault();d.Z.publish(new p.VJ({title:"Delete",text:"Do you want to delete this folder and all its dashboards and alerts?",icon:"trash-alt",yesText:"Delete",onConfirm:()=>{this.props.deleteFolder(this.props.folder.uid)}}))})),this.state={isLoading:!1}}componentDidMount(){this.props.getFolderByUid(this.props.folderUid)}render(){const{pageNav:e,folder:t}=this.props;return(0,m.jsx)(h.T,{navId:"dashboards/browse",pageNav:e.main,children:(0,m.jsxs)(h.T.Contents,{isLoading:this.state.isLoading,children:[a||(a=(0,m.jsx)("h3",{className:"page-sub-heading",children:"Folder settings"})),(0,m.jsx)("div",{className:"section gf-form-group",children:(0,m.jsxs)("form",{name:"folderSettingsForm",onSubmit:this.onSave,children:[(0,m.jsxs)("div",{className:"gf-form",children:[i||(i=(0,m.jsx)("label",{htmlFor:"folder-title",className:"gf-form-label width-7",children:"Name"})),(0,m.jsx)(b,{type:"text",className:"gf-form-input width-30",id:"folder-title",value:t.title,onChange:this.onTitleChange})]}),(0,m.jsxs)("div",{className:"gf-form-button-row",children:[(0,m.jsx)(l.zx,{type:"submit",disabled:!t.canSave||!t.hasChanged,children:"Save"}),(0,m.jsx)(l.zx,{variant:"destructive",onClick:this.onDelete,disabled:!t.canDelete,children:"Delete"})]})]})})]})})}}const w=j(F)}}]);
//# sourceMappingURL=FolderSettingsPage.fc393c24484bdaef755c.js.map