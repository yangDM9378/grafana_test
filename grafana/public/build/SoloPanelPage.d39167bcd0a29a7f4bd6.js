"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[1034],{80419:(e,t,a)=>{a.r(t),a.d(t,{SoloPanel:()=>m,SoloPanelPage:()=>b,default:()=>g});var n,s=a(68404),r=a(36635),o=a(89050),i=a(39321),d=a(12176),l=a(89118),h=a(45916);function p(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const u={initDashboard:l.mV},c=(0,r.connect)((e=>({dashboard:e.dashboard.getModel()})),u);class b extends s.Component{constructor(){super(...arguments),p(this,"state",{panel:null,notFound:!1})}componentDidMount(){const{match:e,route:t}=this.props;this.props.initDashboard({urlSlug:e.params.slug,urlUid:e.params.uid,urlType:e.params.type,routeName:t.routeName,fixUrl:!1,keybindingSrv:this.context.keybindings})}getPanelId(){var e;return parseInt(null!==(e=this.props.queryParams.panelId)&&void 0!==e?e:"0",10)}componentDidUpdate(e){const{dashboard:t}=this.props;if(t&&(!e.dashboard||e.dashboard.uid!==t.uid)){const e=t.getPanelByUrlId(this.props.queryParams.panelId);if(!e)return void this.setState({notFound:!0});this.setState({panel:e})}}render(){return(0,h.jsx)(m,{dashboard:this.props.dashboard,notFound:this.state.notFound,panel:this.state.panel,panelId:this.getPanelId(),timezone:this.props.queryParams.timezone})}}p(b,"contextType",i.h);const m=e=>{let{dashboard:t,notFound:a,panel:s,panelId:r,timezone:i}=e;return a?(0,h.jsxs)("div",{className:"alert alert-error",children:["Panel with id ",r," not found"]}):s&&t?(0,h.jsx)("div",{className:"panel-solo",children:(0,h.jsx)(o.Z,{children:e=>{let{width:a,height:n}=e;return 0===a?null:(0,h.jsx)(d.l,{stateKey:s.key,width:a,height:n,dashboard:t,panel:s,isEditing:!1,isViewing:!1,lazy:!1,timezone:i})}})}):n||(n=(0,h.jsx)("div",{children:"Loading & initializing dashboard"}))},g=c(b)}}]);
//# sourceMappingURL=SoloPanelPage.d39167bcd0a29a7f4bd6.js.map