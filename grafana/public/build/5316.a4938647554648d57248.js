"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[5316],{54168:(a,e,i)=>{i.d(e,{Yb:()=>n,d5:()=>r});var t=i(65737);const n=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;const r=()=>function(){var a;const e=null===(a=t.v.licenseInfo)||void 0===a?void 0:a.trialExpiry;return!!(e&&e>0)}()&&t.v.featureToggles.featureHighlights},5316:(a,e,i)=>{i.d(e,{J_:()=>M,F5:()=>N,M9:()=>P,gv:()=>j,Kj:()=>R,bZ:()=>V,kY:()=>T,oe:()=>B});var t=i(36298),n=i(65737),r=i(18474),s=i(93570),o=i(80795),d=i(93686),u=i(68374),c=i(42200),l=i(42833),g=i(4020),p=i(75534),f=i(3363),m=i(83997);const h=async a=>{try{return await(async a=>{const e=await(0,f.n)((0,c.i)().fetch({method:"GET",url:`/api/datasources/uid/${a}`,params:(0,m.y)(),showErrorAlert:!1}));if(e.ok)return e.data;throw Error(`Could not find data source by UID: "${a}"`)})(a)}catch(e){console.log(`Failed to lookup data source using UID "${a}"`)}try{return await(async a=>{const e=await(0,f.n)((0,c.i)().fetch({method:"GET",url:`/api/datasources/${a}`,params:(0,m.y)(),showErrorAlert:!1}));if(e.ok)return e.data;throw Error(`Could not find data source by ID: "${a}"`)})(a)}catch(e){console.log(`Failed to lookup data source using ID "${a}"`)}throw Error("Could not find data source")},v=a=>(0,c.i)().post("/api/datasources",a);var b=i(65022),y=i(31181);const w=a=>{(0,y.ff)("grafana_ds_add_datasource_clicked",a)},S=a=>{(0,y.ff)("grafana_ds_test_datasource_clicked",a)};function k(a,e){return a.filter((a=>a.name.toLowerCase()===e.toLowerCase())).length>0}function D(a,e){for(;k(a,e);)e=x(e)?`${$(e)}${i=U(e),isNaN(i)?1:i+1}`:`${e}-1`;var i;return e}function x(a){return a.endsWith("-",a.length-1)}function U(a){return parseInt(a.slice(-1),10)}function $(a){return a.slice(0,a.length-1)}var I=i(15546),_=i(72677);function A(a){const e=[{id:"tsdb",title:"Time series databases",plugins:[]},{id:"logging",title:"Logging & document databases",plugins:[]},{id:"tracing",title:"Distributed tracing",plugins:[]},{id:"profiling",title:"Profiling",plugins:[]},{id:"sql",title:"SQL",plugins:[]},{id:"cloud",title:"Cloud",plugins:[]},{id:"enterprise",title:"Enterprise plugins",plugins:[]},{id:"iot",title:"Industrial & IoT",plugins:[]},{id:"other",title:"Others",plugins:[]}].filter((a=>a)),i={},t={},n=[L({id:"grafana-splunk-datasource",name:"Splunk",description:"Visualize and explore Splunk logs",imgUrl:"public/img/plugins/splunk_logo_128.png"}),L({id:"grafana-oracle-datasource",name:"Oracle",description:"Visualize and explore Oracle SQL",imgUrl:"public/img/plugins/oracle.png"}),L({id:"grafana-dynatrace-datasource",name:"Dynatrace",description:"Visualize and explore Dynatrace data",imgUrl:"public/img/plugins/dynatrace.png"}),L({id:"grafana-servicenow-datasource",description:"ServiceNow integration and data source",name:"ServiceNow",imgUrl:"public/img/plugins/servicenow.svg"}),L({id:"grafana-datadog-datasource",description:"DataDog integration and data source",name:"DataDog",imgUrl:"public/img/plugins/datadog.png"}),L({id:"grafana-newrelic-datasource",description:"New Relic integration and data source",name:"New Relic",imgUrl:"public/img/plugins/newrelic.svg"}),L({id:"grafana-mongodb-datasource",description:"MongoDB integration and data source",name:"MongoDB",imgUrl:"public/img/plugins/mongodb.svg"}),L({id:"grafana-snowflake-datasource",description:"Snowflake integration and data source",name:"Snowflake",imgUrl:"public/img/plugins/snowflake.svg"}),L({id:"grafana-wavefront-datasource",description:"Wavefront integration and data source",name:"Wavefront",imgUrl:"public/img/plugins/wavefront.svg"}),L({id:"dlopes7-appdynamics-datasource",description:"AppDynamics integration and data source",name:"AppDynamics",imgUrl:"public/img/plugins/appdynamics.svg"}),L({id:"grafana-saphana-datasource",description:"SAP HANA® integration and data source",name:"SAP HANA®",imgUrl:"public/img/plugins/sap_hana.png"}),L({id:"grafana-honeycomb-datasource",description:"Honeycomb integration and datasource",name:"Honeycomb",imgUrl:"public/img/plugins/honeycomb.png"}),L({id:"grafana-salesforce-datasource",description:"Salesforce integration and datasource",name:"Salesforce",imgUrl:"public/img/plugins/salesforce.svg"}),L({id:"grafana-jira-datasource",description:"Jira integration and datasource",name:"Jira",imgUrl:"public/img/plugins/jira_logo.png"}),L({id:"grafana-gitlab-datasource",description:"GitLab integration and datasource",name:"GitLab",imgUrl:"public/img/plugins/gitlab.svg"}),L({id:"grafana-splunk-monitoring-datasource",description:"SignalFx integration and datasource",name:"Splunk Infrastructure Monitoring",imgUrl:"public/img/plugins/signalfx-logo.svg"}),L({id:"grafana-azuredevops-datasource",description:"Azure Devops datasource",name:"Azure Devops",imgUrl:"public/img/plugins/azure-devops.png"})];for(const a of e)i[a.id]=a;for(const s of a){const a=n.find((a=>a.id===s.id));var r;if(s.enterprise||a)s.category="enterprise",s.unlicensed=!(0,_.v)("enterprise.plugins"),s.info.links=(null==a||null===(r=a.info)||void 0===r?void 0:r.links)||s.info.links;if(s.info.links)for(const a of s.info.links)a.name="Learn more";(e.find((a=>a.id===s.category))||i.other).plugins.push(s),t[s.id]=s}for(const a of e){if("cloud"===a.id&&a.plugins.push({id:"gcloud",name:"Grafana Cloud",type:I.zV.datasource,module:"phantom",baseUrl:"",info:{description:"Hosted Graphite, Prometheus, and Loki",logos:{small:"public/img/grafana_icon.svg",large:"asd"},author:{name:"Grafana Labs"},links:[{url:"https://grafana.com/products/cloud/",name:"Learn more"}],screenshots:[],updated:"2019-05-10",version:"1.0.0"}}),"enterprise"===a.id)for(const e of n)t[e.id]||a.plugins.push(e);C(a.plugins)}return e.filter((a=>a.plugins.length>0))}function C(a){const e={prometheus:100,graphite:95,loki:90,mysql:80,jaeger:100,postgres:79,gcloud:-1};a.sort(((a,i)=>{const t=e[a.id]||0,n=e[i.id]||0;return t>n?-1:t<n||a.name>i.name?1:-1}))}function L(a){return{id:a.id,name:a.name,type:I.zV.datasource,module:"phantom",baseUrl:"",info:{description:a.description,logos:{small:a.imgUrl,large:a.imgUrl},author:{name:"Grafana Labs"},links:[{url:n.v.pluginCatalogURL+a.id,name:"Install now"}],screenshots:[],updated:"2019-05-10",version:"1.0.0"}}}var Z=i(93220),z=i(46525),E=i(23940);const P=function(a){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{loadDataSource:j,loadDataSourceMeta:G,getDataSource:E.f6,getDataSourceMeta:E.G4,importDataSourcePlugin:p.nL};return async(i,t)=>{if(a)try{const n=await i(e.loadDataSource(a));await i(e.loadDataSourceMeta(n));const r=e.getDataSource(t().dataSources,a),s=e.getDataSourceMeta(t().dataSources,r.type),o=await e.importDataSourcePlugin(s);i((0,z.iZ)(o))}catch(a){a instanceof Error&&i((0,z.CT)(a))}else i((0,z.CT)(new Error("Invalid UID")))}},T=function(a){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{getDatasourceSrv:l.ak,getBackendSrv:c.i};return async(i,t)=>{const o=await e.getDatasourceSrv().get(a);o.testDatasource&&(i((0,z.j_)()),e.getBackendSrv().withNoBackendCache((async()=>{try{const a=await o.testDatasource();i((0,z.ng)(a)),S({grafana_version:n.v.buildInfo.version,plugin_id:o.type,datasource_uid:o.uid,success:!0})}catch(e){let t,d;if(e instanceof r.ZA)t=e.message,d=e.details;else if((0,s.kW)(e)){var a;t=null!==(a=e.data.message)&&void 0!==a?a:`HTTP error ${e.statusText}`}else e instanceof Error&&(t=e.message);i((0,z.Aq)({message:t,details:d})),S({grafana_version:n.v.buildInfo.version,plugin_id:o.type,datasource_uid:o.uid,success:!1})}})))}};function V(){return async a=>{const e=await(async()=>await(0,c.i)().get("/api/datasources"))();a((0,z.be)(e))}}function j(a){return async e=>{let i=await h(a);return a!==i.uid&&(window.location.href=t.u.assureBaseUrl(`/datasources/edit/${i.uid}`),i={}),e((0,z.rl)(i)),i}}function G(a){return async e=>{const i=await(0,g.a)(a.type),t=await(0,p.nL)(i),n=t.DataSourceClass.prototype instanceof r.CK,s=Object.assign({},i,{isBackend:i.backend||n});e((0,z.jS)(s)),t.meta=s,e((0,d.RL)((0,Z.B1)(a,t)))}}function M(a){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.n.Edit;return async(i,t)=>{var r,s;await i(V());const d=t().dataSources.dataSources,c=0===d.length,g={name:a.name,type:a.id,access:"proxy",isDefault:c};k(d,g.name)&&(g.name=D(d,g.name));const p=await v(g);await(0,l.ak)().reload(),await u.Vt.fetchUserPermissions(),w({grafana_version:n.v.buildInfo.version,plugin_id:a.id,datasource_uid:p.datasource.uid,plugin_version:null===(r=p.meta)||void 0===r||null===(s=r.info)||void 0===s?void 0:s.version}),o.E1.push(e.replace(/:uid/gi,p.datasource.uid))}}function R(){return async a=>{a((0,z.Ww)());const e=await(0,c.i)().get("/api/plugins",{enabled:1,type:"datasource"}),i=A(e);a((0,z.wZ)({plugins:e,categories:i}))}}function B(a){return async e=>(await(a=>(0,c.i)().put(`/api/datasources/uid/${a.uid}`,a))(a),await(0,l.ak)().reload(),e(j(a.uid)))}function N(){return async(a,e)=>{const{uid:i}=e().dataSources.dataSource;await(a=>(0,c.i)().delete(`/api/datasources/uid/${a}`))(i),await(0,l.ak)().reload(),o.E1.push("/datasources")}}},93220:(a,e,i)=>{i.d(e,{B1:()=>l,nI:()=>g,xG:()=>p});var t=i(15546),n=i(72677),r=i(53277),s=i(46782),o=i(68374),d=i(54168),u=i(64850);const c="Loading";function l(a,e){const i=e.meta,t=s.ZP.featureToggles.featureHighlights,l={img:i.info.logos.large,id:"datasource-"+a.uid,subTitle:`Type: ${i.name}`,url:"",text:a.name,breadcrumbs:[{title:"Data Sources",url:"datasources"}],children:[{active:!1,icon:"sliders-v-alt",id:`datasource-settings-${a.uid}`,text:"Settings",url:`datasources/edit/${a.uid}/`}]};if(e.configPages)for(const i of e.configPages)l.children.push({active:!1,text:i.title,icon:i.icon,url:`datasources/edit/${a.uid}/?page=${i.id}`,id:`datasource-page-${i.id}`});i.includes&&void 0!==i.includes.find((a=>"dashboard"===a.type))&&o.Vt.hasRole("Admin")&&l.children.push({active:!1,icon:"apps",id:`datasource-dashboards-${a.uid}`,text:"Dashboards",url:`datasources/edit/${a.uid}/dashboards`});const g=a.type===c,p="feature-highlights-data-source-permissions-badge",f={active:!1,icon:"lock",id:`datasource-permissions-${a.uid}`,text:"Permissions",url:`datasources/edit/${a.uid}/permissions`};(0,d.d5)()&&!g&&(f.tabSuffix=()=>(0,r.Z)({experimentId:p,eventVariant:"trial"})),(0,n.v)("dspermissions.enforcement")?o.Vt.hasPermission(u.bW.DataSourcesPermissionsRead)&&l.children.push(f):t&&!g&&l.children.push(Object.assign({},f,{url:f.url+"/upgrade",tabSuffix:()=>(0,r.Z)({experimentId:p})}));const m="feature-highlights-data-source-insights-badge",h={active:!1,icon:"info-circle",id:`datasource-insights-${a.uid}`,text:"Insights",url:`datasources/edit/${a.uid}/insights`};(0,d.d5)()&&!g&&(h.tabSuffix=()=>(0,r.Z)({experimentId:m,eventVariant:"trial"})),(0,n.v)("analytics")?o.Vt.hasPermission(u.bW.DataSourcesInsightsRead)&&l.children.push(h):t&&!g&&l.children.push(Object.assign({},h,{url:h.url+"/upgrade",tabSuffix:()=>(0,r.Z)({experimentId:m})}));const v="feature-highlights-query-caching-badge",b={active:!1,icon:"database",id:`datasource-cache-${a.uid}`,text:"Cache",url:`datasources/edit/${a.uid}/cache`,hideFromTabs:!i.isBackend||!s.ZP.caching.enabled};return(0,d.d5)()&&!g&&(b.tabSuffix=()=>(0,r.Z)({experimentId:v,eventVariant:"trial"})),(0,n.v)("caching")?o.Vt.hasPermissionInMetadata(u.bW.DataSourcesCachingRead,a)&&l.children.push(b):t&&!g&&l.children.push(Object.assign({},b,{url:b.url+"/upgrade",tabSuffix:()=>(0,r.Z)({experimentId:v})})),l}function g(a,e){let i={text:""};for(const t of a.children)if(t.id.indexOf(e)>0){t.active=!0,i=t;break}return{main:a,node:i}}function p(a){return g(l({access:"",basicAuth:!1,basicAuthUser:"",withCredentials:!1,database:"",id:1,uid:"x",isDefault:!1,jsonData:{authType:"credentials",defaultRegion:"eu-west-2"},name:"Loading",orgId:1,readOnly:!1,type:c,typeName:c,typeLogoUrl:"public/img/icn-datasource.svg",url:"",user:"",secureJsonFields:{}},{meta:{id:"1",type:t.zV.datasource,name:"",info:{author:{name:"",url:""},description:"",links:[{name:"",url:""}],logos:{large:"",small:""},screenshots:[],updated:"",version:""},includes:[],module:"",baseUrl:""}}),a)}},23940:(a,e,i)=>{i.d(e,{G4:()=>s,I5:()=>n,IO:()=>o,f6:()=>r,mt:()=>t,r7:()=>d});const t=a=>{const e=new RegExp(a.searchQuery,"i");return a.dataSources.filter((a=>e.test(a.name)||e.test(a.database)||e.test(a.type)))},n=a=>{const e=new RegExp(a.dataSourceTypeSearchQuery,"i");return a.plugins.filter((a=>e.test(a.name)))},r=(a,e)=>a.dataSource.uid===e?a.dataSource:{},s=(a,e)=>a.dataSourceMeta.id===e?a.dataSourceMeta:{},o=a=>a.searchQuery,d=a=>a.dataSourcesCount}}]);
//# sourceMappingURL=5316.a4938647554648d57248.js.map